/*! scripts/tumblr/post_message_channel.js */
this.Tumblr||(this.Tumblr={});(function(){var d=window.JSON;if(!(d&&d.stringify)){var i=document.createElement("iframe");document.body.appendChild(i);d=i.contentWindow.JSON;document.body.removeChild(i)}var o=[].slice,j=[].push,e=function(t,u){return function(){return t.apply(u,arguments)}};function g(){if(arguments.length==1){console.log(window.location.hostname+" - ",arguments[0])}else{if(arguments.length==2){console.log(window.location.hostname+" - ",arguments[0],arguments[1])}else{if(arguments.length===3){console.log(window.location.hostname+" - ",arguments[0],arguments[1],arguments[2])}else{if(arguments.length===4){console.log(window.location.hostname+" - ",arguments[0],arguments[1],arguments[2],arguments[3])}}}}}function q(){this.length=0}q.prototype={slice:o,indexOf:Array.prototype.indexOf};q.prototype.push=function(){if(this.triggered_with){var t=1<=arguments.length?o.call(arguments,0):[];for(var u=0;u<t.length;u+=1){t[u].apply(null,this.triggered_with)}}return j.apply(this,arguments)};q.prototype.trigger=function(){var u=1<=arguments.length?o.call(arguments,0):[];var t=this.length;this.triggered_with=u;for(var v=0;v<t;v+=1){this[v].apply(null,this.triggered_with)}return this};function a(){this._on_resolved=new q();this._on_rejected=new q();this.then=e(this.then,this);this.fail=e(this.fail,this);this.resolve=e(this.resolve,this);this.reject=e(this.reject,this)}a.prototype.then=function(){this._on_resolved.push.apply(this._on_resolved,arguments);return this};a.prototype.success=a.prototype.then;a.prototype.fail=function(){this._on_resolved.push.apply(this._on_rejected,arguments);return this};a.prototype.resolve=function(){if(this.resolved||this.rejected){return}this._on_resolved.trigger.apply(this._on_resolved,arguments);this.resolved=true;return this};a.prototype.reject=function(){if(this.resolved||this.rejected){return}this._on_rejected.trigger.apply(this._on_rejected,arguments);this.rejected=true;return this};a.prototype.reject_timeout=function(){var t=1<=arguments.length?o.call(arguments,0):[];var u=t.shift();setTimeout(e(function(){this.reject.apply(this,t)},this),u);return this};a.prototype.promise=function(){var u=this;function t(){var y=this;this.fail=function v(){u.fail.apply(u,arguments);return y};this.then=function x(){u.then.apply(u,arguments);return y};this.success=this.then;this.reject_timeout=function w(){u.reject_timeout.apply(u,arguments);return y};this.cid=u.cid}return new t()};var h=0;var n={};var b=[];function s(){var t=new a();t.cid=++h;n[t.cid]=t;return t}(function(){var v=window.addEventListener?"addEventListener":"attachEvent";var u=window[v];var t=v=="attachEvent"?"onmessage":"message";u(t,function(x){var y;if(typeof x.data!=="string"){return}try{y=d.parse(x.data)}catch(z){}if(y){for(var w=b.length-1;w>=0;w--){b[w].message_callback(x,y)}}},false)})();function k(u){u||(u={});if(!(d&&d.stringify&&d.parse)){throw ("Must have JSON parsing and stringify")}if(u.iframe){u.window=u.iframe.contentWindow;if(!u.origin){var w=u.iframe.src;var t=w.match(/^(http(?:s)?:\/\/[\w_\-\.]+(?::\d+)?)\/?/);if(t){u.origin=t[1]}}}this.window=u.window;this.namespace=u.namespace?u.namespace+":":"";this.origin=u.origin||"*";this.responders={_method_callback_responder:m,_syn:e(this._syn,this)};this._on_connected=new q();this._unanswered_calls={};this.on_connection(e(this.enable_sending_post_message,this));b.push(this);if(this.window){var v=this.send("_syn");v.then(e(function(x,y){if(y==="ack"){this._is_connected()}},this))}}k.prototype.match_origin=function(t){if(this.origin==="*"){return true}else{return this.origin===t}};k.prototype.message_callback=function(u,v){var t;if(this.window&&(u.source!==this.window)){return}if(!this.match_origin(u.origin)){return}if(v.method){if(v.method.slice(0,this.namespace.length)===this.namespace){t=v.method.slice(this.namespace.length,v.method.length)}}this.call_responder(t,u,v)};k.prototype.call_responder=function(u,v,w){var t,x;if(!u){return}w.args||(w.args=[]);x=this.responders[u];if(!x){this._unanswered_calls[u]||(this._unanswered_calls[u]=[]);this._unanswered_calls[u].push(arguments);return}t=x.apply(v,w.args);if(w.cid&&u!=="_method_callback_responder"){this.send_to_window(v.source,"_method_callback_responder",{cid_response:w.cid,response:t})}};function m(u){var t=this;if(u.cid_response&&(u.cid_response in n)){var v=n[u.cid_response];v.resolve.call(null,t,u.response)}}k.prototype._syn=function(){this._is_connected();return"ack"};k.prototype._is_connected=function(){if(this.connected){return}this.connected=true;this._on_connected.trigger(this)};k.prototype.on_connection=function(t){this._on_connected.push.apply(this._on_connected,arguments);return this};k.prototype.method=function c(t){var v=this;var u=function u(){var w=1<=arguments.length?o.call(arguments,0):[];w.unshift(t);return v.send.apply(v,w)};return u};k.prototype.send=function f(){if(!this.window){console.warn("no window specified on channel");return}var t=1<=arguments.length?o.call(arguments,0):[];t.unshift(this.window);return this.send_to_window.apply(this,t)};k.prototype.send_to_window=function p(y,v){var u=3<=arguments.length?o.call(arguments,2):[];var t=s();try{var w=d.stringify({method:this.namespace+v,args:u,cid:t.cid});if(v==="_syn"||v==="_method_callback_responder"){l.call(this,y,w)}else{this.send_post_message(y,w)}}catch(x){t.reject(x)}return t.promise()};function l(v,u,t){t||(t=this.origin);v.postMessage(u,t)}k.prototype.send_post_message=function r(){this._delayed_sent_messages||(this._delayed_sent_messages=[]);this._delayed_sent_messages.push(arguments)};k.prototype.enable_sending_post_message=function(){this.send_post_message=l;if(this._delayed_sent_messages){for(var t=0;t<this._delayed_sent_messages.length;t+=1){l.apply(this,this._delayed_sent_messages[t])}delete this._delayed_sent_messages}};k.prototype.listening_to=function(t){return(t in this.responders)};k.prototype.listen_to=function(x,t){if(!t){var w=x;for(x in w){if(w.hasOwnProperty(x)){this.listen_to(x,w[x])}}return}if(x in this.responders){console.warn("already listening to this method, turn it off first");return}this.responders[x]=t;if(this._unanswered_calls[x]){var v=this._unanswered_calls[x],y;delete this._unanswered_calls[x];for(var u=0;u<v.length;u+=1){y=v[u];this.call_responder.apply(this,y)}}};k.prototype.stop_listen_to=function(t){if(t=="_method_callback_responder"){console.warn("cannot disable the method callback responder");return}delete this.responders[t]};Tumblr.PostMessageChannel=k})();
/*! scripts/polyfills/function.bind.polyfill.js */
if(!Function.prototype.bind){Function.prototype.bind=function(a){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var e=Array.prototype.slice.call(arguments,1),d=this,b=function(){},c=function(){return d.apply(this instanceof b&&a?this:a,e.concat(Array.prototype.slice.call(arguments)))};b.prototype=this.prototype;c.prototype=new b();return c}};
/*! scripts/tumblelog/styler.js */
(function(a){function c(f,k,l){if(Array.prototype.indexOf){return f.indexOf(k,l)}for(var h=(l||0),g=f.length;h<g;h++){if(f[h]===k){return h}}return -1}function b(g,f){var i=[];if(!g){return i}for(var h in g){if(g.hasOwnProperty(h)){i.push(h)}}if(f&&f.length){return i.sort(function(k,j){return c(f,k)-c(f,j)})}return i}function e(){var f=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f())}var d=function(f){if(!(this instanceof d)){return new d(f)}if(!f){f={}}if(typeof f==="string"){f={id:f}}this.el=d.create_stylesheet(f.id||e());if(f.media_query){this.set_media_query(f.media_query)}this.selectors={};this.selectors_order=[];this.animations={};if(f.styles){this.import_styles(f.styles)}if(f.animations){this.import_animations(f.animations)}this.attach();d.register(this);return this};d.prototype={add_px:function(f){if(typeof f==="string"&&f.match(/\D/)){return f}return f+"px"},add_px_value:function(g,f){switch(g){case"top":case"right":case"bottom":case"left":case"width":case"height":return this.add_px(f);default:return f}},import_styles:function(g){for(var f in g){this.set(f,g[f])}},import_animations:function(g){for(var f in g){this.set_animation(f,g[f])}},set_media_query:function(f){this.el.media=f||""},set:function(f,i,h,j){if(typeof this.selectors[f]==="undefined"){this.selectors[f]={properties:{},properties_order:[]};this.selectors_order.push(f)}f=this.selectors[f];if(typeof i==="object"){var g=i;j=h;for(i in g){if(typeof f.properties[i]==="undefined"){f.properties_order.push(i)}h=g[i];f.properties[i]=this.add_px_value(i,h)}}else{if(typeof f.properties[i]==="undefined"){f.properties_order.push(i)}f.properties[i]=this.add_px_value(i,h)}if(typeof j==="undefined"){j=true}if(j){this.update()}},get:function(f,g){f=this.selectors[f];if(typeof f==="undefined"){return false}if(!g){return f}g=f.properties[g];if(typeof g==="undefined"){return false}return g},has:function(f,g){f=this.selectors[f];if(typeof f==="undefined"){return false}if(!g){return true}g=f[g];if(typeof g==="undefined"){return false}return(typeof g!=="undefined")&&g!==""},set_selectors_order:function(f){this.selectors_order=b(this.selectors,f);this.update();return true},set_properties_order:function(f,g){if(!f){for(f in this.selectors){if(!this.selectors.hasOwnProperty(f)){continue}f=this.selectors[f];f.properties_order=b(f.properties,g||d.default_properties_order)}this.update();return true}f=this.get(f);if(!f){return false}f.properties_order=b(f.properties,g||d.default_properties_order);this.update();return true},set_animation:function(j,g,i,h,m){if(typeof this.animations[j]==="undefined"){this.animations[j]={}}if(typeof g==="object"){var k=g;for(g in k){this.set_animation(j,g,k[g],false)}m=i;if(typeof m==="undefined"){m=true}if(m){this.update()}return}var l=this.animations[j];if(typeof l[g]==="undefined"){l[g]={}}g=l[g];if(typeof i==="object"){var f=i;m=h;for(i in f){h=f[i];g[i]=this.add_px_value(i,h)}}else{g[i]=this.add_px_value(i,h)}if(typeof m==="undefined"){m=true}if(m){this.update()}},get_animation:function(h,f,g){h=this.animations[h];if(typeof h==="undefined"){return false}if(!f){return h}f=h[f];if(typeof f==="undefined"){return false}if(!g){return f}g=f[g];if(typeof f==="undefined"){return false}return f},attach:function(){var f=document.getElementsByTagName("head")[0];if(!f){return false}this.update();f.appendChild(this.el);return true},detach:function(){var f=document.getElementsByTagName("head")[0];if(!f){return false}if(this.el.parentNode!==f){return false}this.el.parentNode.removeChild(this.el);return true},update:function(){var f=this.css_text();if(this.el.styleSheet){this.el.styleSheet.cssText="\n"+f}else{while(this.el.hasChildNodes()){this.el.removeChild(this.el.lastChild)}this.el.appendChild(document.createTextNode("\n"+f))}},selectors_to_text:function(j,g){g||(g=b(j));var f;var k="";for(var h=0;h<g.length;h++){f=g[h];if(!(j.hasOwnProperty(f)&&j[f])){continue}k+=f+" {\n";k+=this.properties_to_text(j[f].properties,j[f].properties_order);k+="}\n"}return k},properties_to_text:function(h,f,k){f||(f=b(h));var l="";var j;for(var g=0;g<f.length;g++){j=f[g];if(!(h.hasOwnProperty(j)&&h[j]!=="")){continue}l+=j+": "+h[j]+";\n"}return l},animations_to_text:function(n,f){f||(f=b(n));var k=d.browser_prefixes.slice();k.push("");var j;var h;var m="";for(var g=0;g<f.length;g++){h=f[g];if(!(n.hasOwnProperty(h)&&n[h])){continue}for(var l=0;l<k.length;l++){j=k[l];m+="@"+(j?"-"+j+"-":"")+"keyframes "+h+" {\n";m+=this.keyframes_to_text(n[h],j);m+="}\n"}}return m},keyframes_to_text:function(l,j){var f=b(l);var h;var k="";for(var g=0;g<f.length;g++){h=f[g];if(!(l.hasOwnProperty(h)&&l[h])){continue}k+=h+" {\n";k+=this.properties_to_text(l[h],false,j);k+="}\n"}return k},css_text:function(){var f=this.selectors_to_text(this.selectors,this.selectors_order).replace(/</g,"&lt;").replace(/>/g,"&gt;");var g=this.animations_to_text(this.animations).replace(/</g,"&lt;").replace(/>/g,"&gt;");return f+g},toString:function(){return this.css_text()}};d.instances=[];d.browser_prefixes=["webkit","moz","ms","o"];d.default_properties_order=["font","font-family","font-size","font-style","font-variant","font-weight","@font-face","font-size-adjust","font-stretch","padding","padding-top","padding-right","padding-bottom","padding-left","margin","margin-top","margin-right","margin-bottom","margin-left","border","border-top","border-top-color","border-top-style","border-top-width","border-right","border-right-color","border-right-style","border-right-width","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","background","background-color","background-position","background-size","background-repeat","background-origin","background-clip","background-attachment","background-image","overflow","overflow-x","overflow-y","transition","transition-property","transition-duration","transition-timing-function","transition-delay","transform","transform-origin","transform-style"];d.create_stylesheet=function(g){var f=document.createElement("style");f.type="text/css";if(g){f.id=g}return f};d.register=function(f){this.instances.push(f)};a.Styler=d})(this.Tumblr||(this.Tumblr={}));
/*! scripts/tumblelog/follow_teaser.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.FollowTeaser=(function(){var h=false,o=false,n=false,a=false,l={},c=310,p=110,i=false,b=new Tumblr.Styler({id:"tumblr_teaser_follow_css",styles:{"#tumblr_teaser_follow":{display:"block",opacity:"1",visibility:"hidden",position:"fixed",bottom:"0",right:"0",width:"1px",height:"1px","z-index":"2147483647"},"#tumblr_teaser_follow.open":{visibility:"visible",width:c+"px",height:p+"px"}}});function q(w,t){var x=[];for(var u in w){var s=t?t+"["+u+"]":u,r=w[u];x.push(typeof r=="object"?q(r,s):encodeURIComponent(s)+"="+encodeURIComponent(r))}return x.join("&")}var g=0;var e=9000;var d=200;var f=false;function j(){if(f){return}var s=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0;if((s>e||(Tumblr.FollowTeaser.current_page>=2&&s>500))&&Tumblr.FollowTeaser.can_show()){Tumblr.FollowTeaser.scroll_listener(false);return}if(Tumblr.FollowTeaser.infer_infinite_scroll){var r=document.body.clientHeight;if(r>g+100){Tumblr.FollowTeaser.current_page++;g=r}}f=true;setTimeout(function(){f=false},d)}var m;function k(){if(f){return}clearTimeout(m);m=setTimeout(j,300);f=true;setTimeout(function(){f=false},d)}return{infer_infinite_scroll:false,current_page:1,can_show:function(){n=true;var r=this.open(c,p);if(h){h.contentWindow.postMessage("follow_teaser;show","*")}return r},create_from_tumblr_controls:function(r){if(!(o=document.getElementById("tumblr_controls"))){return false}if(!(url_matches=o.src.match(/([^\?#]+\/)([^\/\?\#]\.html)?(\?_v=[^\&#]+)?([^#]*)(.*)?/i))){return false}this.initialize({url:(r||(url_matches[1]+"follow.html"))+url_matches[4]+url_matches[5]})},create_iframe:function(r){var s=document.createElement("iframe");s.id="tumblr_teaser_follow";s.width=1;s.height=1;s.frameBorder=0;s.scrolling="no";s.src=r;document.body.appendChild(s);return s},scroll_listener:function(r){if(r){if(window.addEventListener){window.addEventListener("scroll",k)}else{if(window.attachEvent){window.attachEvent("onscroll",k)}}}else{if(window.removeEventListener){window.removeEventListener("scroll",k)}else{if(window.detachEvent){window.detachEvent("onscroll",k)}}}},initialize:function(t){if(!Tumblr.PostMessageListener){return false}if(!t){t={}}g=document.body.clientHeight;e=Math.min(e,3*Tumblr.windowDimensions().height);var r=this;Tumblr.PostMessageListener.initialize(function(x,w){r.post_message_event(x,w)});h=document.getElementById("tumblr_teaser_tagged");o=document.getElementById("tumblr_controls");if(!h){var u=t.query||{};var s=t.url||"http://www.tumblr.com/assets/html/follow.html";var v=(s.indexOf("#")<0?"#":"&")+q(u);h=this.create_iframe(s+v)}},post_message_event:function(s,r){if(!s||s.length<2||s[0]!=="follow_iframe"){return false}switch(s[1]){case"resize":if(s.length>3){c=s[2];p=s[3];b.set("#tumblr_teaser_follow.open",{width:c+"px",height:p+"px"})}a=true;this.open(c,p);break;case"dismiss":this.close();break}function t(u,v){if(!(typeof u==="string"&&u.match(/\d+%/))){u=parseInt(u,10)||0}if(!(typeof v==="string"&&v.match(/\d+%/))){v=parseInt(v,10)||0}if(u){tumblelog_iframe.width=u}if(v){tumblelog_iframe.height=v}}},open:function(s,r){if(!h){return false}if(!(n&&a)){return false}if(i){return false}i=true;Tumblr.addClass(h,"open");o.style.display="none";return true},close:function(){if(!h){return}if(!i){return}i=false;n=false;Tumblr.removeClass(h,"open");o.style.display="block"},toggle:function(){if(!h){return}if(i){return this.close()}else{this.open()}}}})();
/*! scripts/tumblelog/teaser.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.Teaser=(function(){var a=false,e=false,b=false,f={hide:false,sneeze:false},c=false,d=360;return{is_enabled:function(){return !!e},initialize:function(h){e=document.getElementById("teaser_iframe");if(!e){return false}a=e.parentNode;if(!h){h={}}if(h.slide_page){c=h.slide_page}if(h.width){d=h.width}this.prepare(false);var g=this;if("addEventListener" in a){a.addEventListener("mouseout",function(i){if(!(i.relatedTarget||i.toElement)){g.close()}})}},prepare:function(i){if(!e){return}var g=0.25;var j=0.3;a.style.display="block";a.style.opacity="0";a.style.visibility="hidden";a.style.position="fixed";a.style.top="0";a.style.right="0";a.style.bottom="0";a.style.width="1px";a.style.height="100%";a.style.zIndex="2147483646";a.style.overflow="hidden";try{a.style.backgroundColor="rgba(0,0,0, 0.6)"}catch(h){}a.style.webkitTransition="width "+g+"s ease-in-out";a.style.MozTransition="width "+g+"s ease-in-out";a.style.msTransition="width "+g+"s ease-in-out";a.style.OTransition="width "+g+"s ease-in-out";a.style.transition="width "+g+"s ease-in-out";e.style.display="block";e.style.opacity="1";e.style.visibility="visible";e.style.position="absolute";e.style.top="0";e.style.right="0";e.style.minWidth="100%";e.style.width=d+"px";e.style.height="100%";if(c&&document.body.parentNode){document.body.parentNode.style.position="relative";document.body.parentNode.style.webkitTransition="right "+g+"s ease-in-out";document.body.parentNode.style.MozTransition="right "+g+"s ease-in-out";document.body.parentNode.style.msTransition="right "+g+"s ease-in-out";document.body.parentNode.style.OTransition="right "+g+"s ease-in-out";document.body.parentNode.style.transition="right "+g+"s ease-in-out";document.body.parentNode.style.right="0"}},refresh:function(){if(!e){return}e.contentWindow.postMessage("teaser;refresh","*")},reset_timers:function(){clearTimeout(f.hide);f.hide=false;clearTimeout(f.sneeze);f.sneeze=false},reset:function(){if(!e){return}this.reset_timers();a.style.opacity="0";this.refresh()},open:function(){if(!e){return}if(b){return}b=true;a.style.opacity="1";a.style.visibility="visible";a.style.width=d+"px";if(c&&document.body.parentNode){document.body.parentNode.style.right=d+"px"}e.contentWindow.postMessage("teaser;show","*");this.reset_timers();clearTimeout(f.sneeze);f.sneeze=setTimeout(function(){f.sneeze=false},100)},close:function(){if(!e){return}if(!b||f.sneeze){return}b=false;a.style.opacity="1";a.style.visibility="visible";a.style.width="1px";if(c&&document.body.parentNode){document.body.parentNode.style.right="0"}e.contentWindow.postMessage("teaser;hide","*");this.reset_timers();var g=this;f.hide=setTimeout(function(){g.reset()},300)},toggle:function(){if(!e){return}if(b){return this.close()}else{this.open()}}}})();
/*! scripts/tumblelog/legacy_tumblelog_video.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.flashVersion=function(){if(navigator.plugins&&navigator.plugins.length>0){var a=navigator.mimeTypes;if(a&&a["application/x-shockwave-flash"]&&a["application/x-shockwave-flash"].enabledPlugin&&a["application/x-shockwave-flash"].enabledPlugin.description){return parseInt(a["application/x-shockwave-flash"].enabledPlugin.description.split(" ")[2].split(".")[0],10)}}else{if(navigator.appVersion.indexOf("Mac")===-1&&window.execScript){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var b=c.GetVariable("$version");return b.split(",")[0].split(" ")[1]}catch(d){}return 0}}};Tumblr.replaceIfFlash=function(b,a,c){if(Tumblr.flashVersion()>=b){document.getElementById(a).innerHTML=c}};function flashVersion(){return Tumblr.flashVersion()}function replaceIfFlash(b,a,c){Tumblr.replaceIfFlash(b,a,c)};
/*! scripts/tumblelog/utilities.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.hasClass=function(b,a){return new RegExp("(\\s|^)"+a+"(\\s|$)").test(b.className)};Tumblr.addClass=function(b,a){if(!Tumblr.hasClass(b,a)){b.className+=" "+a}};Tumblr.removeClass=function(c,a){if(Tumblr.hasClass(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}};Tumblr.toggleClass=function(b,a){if(Tumblr.hasClass(b,a)){Tumblr.removeClass(b,a)}else{Tumblr.addClass(b,a)}};
/*! scripts/tumblelog/lightbox.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.windowDimensions=function(){if(window.innerWidth!==undefined){return{width:window.innerWidth,height:window.innerHeight}}else{if(document.documentElement){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}else{return{width:document.body.clientWidth,height:document.body.clientHeight}}}};Tumblr.Lightbox=(function(){var f=false;var h=false;var n=false;var d=[];var i=false;var g=false;var o=false;var e=false;var c={left:false,center:false,right:false};function m(r,u){if(document.getElementById("tumblr_lightbox")){return}if(!u){u=1}d=r;if(navigator&&navigator.userAgent.indexOf("Firefox")!=-1){var y=document.createElement("input");y.setAttribute("id","Tumblr_Lightbox_focus_input");y.setAttribute("type","text");y.style.position="fixed";y.style.top=0;y.style.left=0;document.body.appendChild(y);y.focus();document.body.removeChild(y)}else{window.focus()}if(!f){if(window.onkeydown){h=window.onkeydown}window.onkeydown=function(B){if(document.getElementById("tumblr_lightbox")){if(!B){B=window.event}var A=B.charCode?B.charCode:B.keyCode;if(!B.shiftKey&&!B.ctrlKey&&!B.altKey&&!B.metaKey){if(A==37){if(g>1){k(g-1)}}else{if(A==39){if(g<d.length){k(g+1)}}else{if(A==27||A==32||A==74||A==75){l()}}}}else{if((B.ctrlKey||B.metaKey)&&A==87){l();return false}}}if(h){h()}};if(window.onresize){n=window.onresize}window.onresize=function(){if(document.getElementById("vignette")){document.getElementById("vignette").style.display="none";if(e){clearTimeout(e)}e=setTimeout(function(){document.getElementById("vignette").style.display="inline-block"},100)}j();if(n){n()}};if(navigator&&navigator.userAgent.search("iPad")!=-1){document.addEventListener("touchmove",function(){l()},false)}f=true}document.body.style.overflow="hidden";var p=document.createElement("div");p.setAttribute("id","tumblr_lightbox");if(navigator&&navigator.userAgent.search("iPad")!=-1){p.style.position="absolute";p.style.top=document.body.scrollTop+"px";p.style.height=window.innerHeight+"px"}else{p.style.position="fixed";p.style.top="0px";p.style.bottom="0px"}p.style.left="0px";p.style.right="0px";p.style.zIndex=4294967294;p.style.overflow="hidden";p.style.backgroundColor=(navigator&&navigator.userAgent.indexOf("MSIE")!=-1)?"#222":"rgba(17,17,17,0.92)";p.onclick=function(){if(i){i=false}else{l()}};if(!(navigator&&navigator.userAgent.search("iPad")!=-1)&&!(navigator&&navigator.userAgent.search("MSIE")!=-1)){var x=document.createElement("img");x.setAttribute("id","vignette");x.setAttribute("src","//assets.tumblr.com/images/full_page_vignette.png");x.style.position="absolute";x.style.width="100%";x.style.height="100%";x.style.left="0px";x.style.top="0px";p.appendChild(x);var w=document.createElement("div");w.style.position="absolute";w.style.width="100%";w.style.height="100%";w.style.left="0px";w.style.top="0px";p.appendChild(w)}var s=document.createElement("div");s.style.position="absolute";s.style.left="50%";s.style.top="50%";if(!document.getElementById("tumblr_form_key")){s.style.width="100%"}p.appendChild(s);var q=["left","center","right"];while(stage_name=q.pop()){var v=document.createElement("a");v.setAttribute("id","tumblr_lightbox_"+stage_name+"_link");v.setAttribute("href","#");if(d.length<2){v.style.cursor="default"}s.appendChild(v);var t=document.createElement("img");t.setAttribute("id","tumblr_lightbox_"+stage_name+"_image");t.setAttribute("src","//assets.tumblr.com/images/x.gif");t.style.mozBorderRadius="3px";t.style.webkitBorderRadius="3px";t.style.borderRadius="3px";if(navigator&&navigator.userAgent.indexOf("Chrome")!=-1){t.style.moxBoxShadow="0 4px 30px rgba(0,0,0,1)";t.style.webkitBoxShadow="0 4px 30px rgba(0,0,0,1)";t.style.boxShadow="0 4px 30px rgba(0,0,0,1)"}t.style.borderWidth="0px";t.style.position="absolute";if(stage_name=="center"){t.style.zIndex=4294967295}v.appendChild(t)}var z=document.createElement("div");z.setAttribute("id","tumblr_lightbox_caption");z.style.position="absolute";z.style.textAlign="center";z.style.font="bold 17px 'HelveticaNeue','Helvetica','Arial',sans-serif";z.style.color="#fff";z.style.paddingTop="20px";z.style.textShadow="0 4px 30px rgba(0,0,0,1)";z.style.display="inline-block";z.style.textRendering="optimizeLegibility";s.appendChild(z);document.body.appendChild(p);k(u);j()}function l(){document.body.style.overflow="";document.getElementById("tumblr_lightbox").style.display="none";document.body.removeChild(document.getElementById("tumblr_lightbox"));Tumblr.Events.trigger("tumblr_lightbox:form:hide")}function k(q){g=q;o=Math.round(Math.random()*1000000000000);document.getElementById("tumblr_lightbox_left_link").onclick=function(){i=true;k(q-1);return false};if(d.length==1){document.getElementById("tumblr_lightbox_center_link").onclick=function(){return false}}else{if(q<d.length){document.getElementById("tumblr_lightbox_center_link").onclick=function(){i=true;k(q+1);return false}}else{document.getElementById("tumblr_lightbox_center_link").onclick=function(){i=true;k(1);return false}}}document.getElementById("tumblr_lightbox_right_link").onclick=document.getElementById("tumblr_lightbox_center_link").onclick;c.left=false;c.center=false;c.right=false;b("center",q-1);if(q>1){b("left",q-2)}if(q<d.length){b("right",q)}if(q+1<d.length){var p=new Image();p.src=d[q+1].low_res}}function b(q,s){var p=new Image();var r=false;p.className=o;p.onload=function(){if(this.className==o){this.className="high-res";c[q]=this;j()}};p.src=d[s].high_res;if(!p.complete){r=new Image();r.className=o;r.onload=function(){if(this.className==o&&(!c[q]||c[q].className=="placeholder")){this.className="low-res";c[q]=this;j()}};r.src=d[s].low_res;if(d[s].width&&d[s].height){if(r){r.style.maxWidth=d[s].width+"px";r.style.maxHeight=d[s].height+"px"}p.style.maxWidth=d[s].width+"px";p.style.maxHeight=d[s].height+"px"}if(!r.complete&&(d[s].width&&d[s].height)){c[q]=new Image(d[s].width,d[s].height);c[q].style.maxWidth=d[s].width+"px";c[q].style.maxHeight=d[s].height+"px";c[q].src="//assets.tumblr.com/images/x.gif";c[q].className="placeholder"}}}function j(){var u=["right","left","center"];while(stage_name=u.pop()){var r=document.getElementById("tumblr_lightbox_"+stage_name+"_image");if(!r){continue}var s=c[stage_name];if(!s){r.style.display="none";continue}else{r.style.display="inline-block"}var q=s.style.maxWidth?parseInt(s.style.maxWidth,10):s.width;var p=s.style.maxHeight?parseInt(s.style.maxHeight,10):s.height;if(Tumblr.windowDimensions().width/Tumblr.windowDimensions().height<q/p){var t=(d.length==1)?0.85:0.75;if(Tumblr.windowDimensions().width*t>q&&(s.className=="high-res"||s.style.maxWidth)){r.style.width=q+"px";r.style.height=p+"px"}else{r.style.height=(p*((Tumblr.windowDimensions().width*t)/q))+"px";r.style.width=(Tumblr.windowDimensions().width*t)+"px"}}else{if(Tumblr.windowDimensions().height*0.85>p&&(s.className=="high-res"||s.style.maxHeight)){r.style.width=q+"px";r.style.height=p+"px"}else{r.style.width=(q*((Tumblr.windowDimensions().height*0.85)/p))+"px";r.style.height=(Tumblr.windowDimensions().height*0.85)+"px"}}if(stage_name=="center"){r.style.left=(0-parseInt(r.style.width,10)/2)+"px";r.style.top=(0-parseInt(r.style.height,10)/2)+"px"}else{r.style[stage_name]=(0-(parseInt(r.style.width,10)+Tumblr.windowDimensions().width*0.42))+"px";r.style.top=(0-parseInt(r.style.height,10)/2)+"px"}r.src=s.src;r.style.backgroundColor=(s.className=="placeholder")?((navigator&&navigator.userAgent.indexOf("MSIE")!=-1)?"#444":"rgba(255,255,255,0.05)"):"transparent";if(stage_name=="center"&&d[g-1].caption){document.getElementById("tumblr_lightbox_caption").innerHTML=d[g-1].caption;document.getElementById("tumblr_lightbox_caption").style.width=(Tumblr.windowDimensions().width*0.7)+"px";document.getElementById("tumblr_lightbox_caption").style.top=(parseInt(r.style.height,10)*0.5)+"px";document.getElementById("tumblr_lightbox_caption").style.left=(0-Tumblr.windowDimensions().width*0.35)+"px";document.getElementById("tumblr_lightbox_caption").style.display="block"}else{if(stage_name=="center"){document.getElementById("tumblr_lightbox_caption").style.display="none"}}}}function a(){return !!document.getElementById("tumblr_lightbox")}return{init:m,isOpen:a}})();
/*! scripts/tumblelog/iframe_preloader.js */
Tumblr.IframePreloader=function(a){for(var b in a){if(typeof b=="object"){for(var c in b){this.options[b][c]=b[c]}}else{this.options[b]=a[b]}}this.__create()};Tumblr.IframePreloader.prototype={options:{iframe_src:"",iframe_before_onload:function(){},iframe_after_onload:function(){},iframe_class:"",iframe_styles:{zIndex:8675309,position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",background:"transparent",border:"0px",overflow:"hidden"},preloader_class:"",preloader_innerHTML:'<div style="position:absolute; top:0; left:0; right:0; bottom:0; background:transparent center no-repeat url(\'/images/loading_big_fff_on_2e3133.gif?709\')"><img style="position:absolute; left:0; top:0; width:100%; height:100%; opacity:0.3;" src="//assets.tumblr.com/images/full_page_vignette.png?709"/></div>',preloader_styles:{zIndex:8675310,position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",overflow:"hidden",background:"rgba(17,17,17,0.92)"},close_class:"",close_innerHTML:"&times;",close_styles:{zIndex:8675311,position:"fixed",top:"10px",right:"15px",cursor:"pointer",font:"bold 20px Helvetica, sans-serif"}},iframe_loaded:false,__create:function(){this.id=Math.random().toString().split(".")[1];this.$container=document.createElement("div");this.$preloader=document.createElement("div");this.$preloader.id="iframe_preloader-preloader-"+this.id;this.$preloader.className=this.options.preloader_class;for(var d in this.options.preloader_styles){this.$preloader.style[d]=this.options.preloader_styles[d]}this.$preloader.innerHTML=this.options.preloader_innerHTML;this.$iframe=document.createElement("iframe");this.$iframe.id="iframe_preloader-iframe-"+this.id;this.$iframe.className=this.options.iframe_class;for(var c in this.options.iframe_styles){this.$iframe.style[c]=this.options.iframe_styles[c]}this.$iframe.src=this.options.iframe_src;this.$iframe.scrolling="no";this.$iframe.frameborder="0";this.$close=document.createElement("div");this.$close.id="iframe_preloader-close-"+this.id;this.$close.className=this.options.close_class;for(var b in this.options.close_styles){this.$close.style[b]=this.options.close_styles[b]}this.$close.innerHTML=this.options.close_innerHTML;var a=this;this.$close.onclick=function(){if(typeof pano_iframe_preloader!="undefined"&&pano_iframe_preloader){pano_iframe_preloader.remove()}};this.$iframe.onload=function(){a.options.iframe_before_onload();a.iframe_loaded=true;a.show();a.$close.style.display="none";a.options.iframe_after_onload()};this.hide_iframe();this.lock_body();this.$container.appendChild(this.$preloader);this.$container.appendChild(this.$iframe);this.$container.appendChild(this.$close);document.body.appendChild(this.$container)},hide:function(){this.hide_iframe();this.hide_preloader();this.unlock_body()},show:function(){if(this.iframe_loaded){this.show_iframe();this.hide_preloader()}else{this.hide_iframe();this.show_preloader()}this.lock_body()},remove:function(){this.hide();document.body.removeChild(this.$container);delete this.$container;delete this.$preloader;delete this.$iframe},lock_body:function(){document.body.style.overflow="hidden"},unlock_body:function(){document.body.style.overflow=""},show_preloader:function(){this.window.focus();this.$preloader.style.display="block"},hide_preloader:function(){this.$preloader.style.display="none"},show_iframe:function(){this.$iframe.contentWindow.focus();this.$iframe.style.opacity=1},hide_iframe:function(){this.$iframe.style.opacity=0}};var pano_iframe_preloader=false;Tumblr.PanoLightboxInit=function(b,a){if((!b&&window.event&&(window.event.metaKey||window.event.altKey))||(b&&(b.metaKey||b.altKey))){return true}pano_iframe_preloader=new Tumblr.IframePreloader({iframe_src:a});return false};
/*! scripts/tumblelog/reblog_post_iframe.js */
(function(){var b,h;function c(){if(b){return}b=new Tumblr.Styler({id:"tumblr_reblog_post_iframe_css",styles:{"#tumblr_reblog_post_iframe":{position:"fixed",right:0,bottom:0,width:"1px",height:"1px",overflow:"hidden",background:"transparent","z-index":"2147483647"},"body._t_reblog_iframe_opened":{overflow:"hidden"},"._t_reblog_iframe_opened #tumblr_reblog_post_iframe":{width:"100%",height:"100%"}}})}function g(j){var i=j.origin+"/detached/reblog/";i.replace(/^http:\/\//,"https://");i+=j.reblogId;i+="/";i+=j.reblogKey;return i}function a(i){if(h){f()}if("reblogId" in i){i=g(i)}var j=document.createElement("iframe");j.id="tumblr_reblog_post_iframe";j.frameBorder="0";j.scrolling="yes";j.width="1";j.height="1";j.src=i+"?t="+new Date().getTime();h=j;c();document.body.appendChild(j)}function d(){if(h){document.body.className+=" _t_reblog_iframe_opened"}else{f()}}function f(){if(h){document.body.removeChild(h);h=null}document.body.className=document.body.className.replace(/\_t_reblog_iframe_opened\b/,"")}Tumblr.ReblogPostIframe={};var e=new Tumblr.PostMessageChannel({namespace:"reblog_iframe"});e.listen_to({reblog_post:a,reblog_post_frame_loaded:d,close_reblog_post_frame:f})})();
/*! scripts/tumblelog/like_button.js */
("Tumblr" in window)||(window.Tumblr={});(function(){var a;if(window.JSON&&window.JSON.stringify&&window.JSON.parse){a=window.JSON}else{if(_t){a=_t.getCleanObject("JSON")}}Tumblr.LikeButtonUpdate=(function(){return{post_message_event:function(d,b){if(d[0]==="tumblelog_like"){if(d[1]&&document.getElementById("like_button_"+d[1])){var c=document.getElementById("like_button_"+d[1]);if(d[2]==="liked"){Tumblr.addClass(c,"liked")}else{Tumblr.removeClass(c,"liked")}}}}}})();Tumblr.LikeButton={loaded_iframes:{},like_statuses:{},get_status_by_page:function(d){var b=document.getElementById("tumblr_controls");if(b){var c="get_like_states;"+a.stringify({page:d});b.contentWindow.postMessage(c,"*")}},get_status_by_post_ids:function(c){var b=document.getElementById("tumblr_controls");if(b){var d="get_like_states;"+a.stringify({ids:c});b.contentWindow.postMessage(d,"*")}},post_message_event:function(e,c){if(e[0]==="like_state_update"){var f=a.parse(e[1]);if(f.length){for(var d=0,b=f.length;d<b;d++){Tumblr.LikeButton.queue_like_status(f[d]);Tumblr.LikeButton.update_like_state(f[d])}}else{Tumblr.LikeButton.queue_like_status(f);Tumblr.LikeButton.update_like_state(f)}}},logged_in_iframe_loaded:function(n,k){if(n[0]==="logged_in_iframe_loaded"){var h="";var l="";var m=window.location.pathname;if(m.indexOf("page")!==-1||m.indexOf("post")!==-1){var f=m.split("/");for(var d=0;d<f.length;d++){if(f[d]==="page"&&f[d++]){h=f[d++];break}if(f[d]==="post"&&f[d++]){l=f[d++];break}}}if(l){Tumblr.LikeButton.get_status_by_post_ids([l])}else{if(h){Tumblr.LikeButton.get_status_by_page(h)}else{var g=[];var c=document.querySelectorAll(".like_button");for(var b=0;b<c.length;b++){var e=c[b];if(e.attributes["data-post-id"]){g.push(e.attributes["data-post-id"].value)}}if(g.length>0){Tumblr.LikeButton.get_status_by_post_ids(g)}}}}},like_iframe_loaded:function(c,b){if(c[0]==="like_iframe_load"){var d=a.parse(c[1]);if(d.post_id){Tumblr.LikeButton.loaded_iframes[d.post_id]=1;Tumblr.LikeButton.check_like_status(d.post_id,true)}}},check_like_status:function(c,b){var e=Tumblr.LikeButton.like_statuses[c];if(e){var d={post_id:c,state:(e==="liked")?true:false};Tumblr.LikeButton.update_like_state(d)}},queue_like_status:function(b){if(b.post_id){Tumblr.LikeButton.like_statuses[b.post_id]=(b.state)?"liked":"unliked"}},update_like_state:function(c){if(c.post_id){var b=document.getElementById("like_iframe_"+c.post_id);if(b){b.contentWindow.postMessage("state_update;"+a.stringify(c),"http://assets.tumblr.com")}}}}}).call(this);
/*! scripts/tumblelog/post_message_form_resize.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.TumblelogFormResize=(function(){return{post_message_event:function(d,b){if(d[0]==="resize_tumblelog_form_iframe"){var e=d[1];var c=document.getElementById(e);var a=parseInt(d[2],10);if(e){c.height=a}}}}})();
/*! scripts/tumblelog/post_message_photoset_resize.js */
Tumblr.PhotosetResize=(function(){return{post_message_event:function(c,b){if(c[0]==="resize_photoset_iframe"){var d=c[1],a=parseInt(c[2],10);document.getElementById("photoset_iframe_"+d).height=a}}}})();
/*! scripts/tumblelog/feature_analytics.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.AnalyticsFeatureSupport=(function(){return{post_message_event:function(c,a){if(c[0]==="openInMobileAppSuccess"){if(typeof(open_in_mobile_app)==="function"){if(c[1]&&c[1].length){var b=parseInt(c[1],10);open_in_mobile_app(b)}}}}}})();
/*! scripts/tumblelog/feature_iframe.js */
Tumblr.IframeFeatureSupport=(function(){var h;var e;var c;var d=new Tumblr.Styler({id:"tumblr_iframe_css",styles:{".tumblr_controls":{position:"absolute",top:"0",right:"0",display:"block",opacity:"1",width:"1px",height:"1px","z-index":"2147483647",visibility:"hidden","pointer-events":"none"},".tumblr_controls.visible":{visibility:"visible","pointer-events":"all"},".tumblr_controls.sticky":{position:"fixed"},".tumblr_controls.transition":{"-webkit-transition":"top 0.1s ease","-moz-transition":"top 0.1s ease","-ms-transition":"top 0.1s ease","-o-transition":"top 0.1s ease",transition:"top 0.1s ease"},"iframe#tumblr_controls.tumblr_controls.sticky.transition":{"-webkit-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-moz-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-ms-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-o-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both",animation:"tumblr_controls_fade_in 0.3s 0.2s linear 1 both",top:"0 !important"},".tumblr_controls.sticky.transition":{"-webkit-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-moz-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-ms-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both","-o-animation":"tumblr_controls_fade_in 0.3s 0.2s linear 1 both",animation:"tumblr_controls_fade_in 0.3s 0.2s linear 1 both",top:"0 !important"},".tumblr_controls.flash_fix":{visibility:"hidden !important"}},animations:{tumblr_controls_fade_in:{"0%":{opacity:0},"100%":{opacity:1}}}});function f(){var j,k,i=document.querySelector('meta[name="color:Tumblr Controls"]');if(i){j=i.getAttribute("content")}if(!j){j="default"}h.contentWindow.postMessage("color_match;"+j,e)}function g(i,j){if(!(typeof i==="string"&&i.match(/\d+%/))){i=parseInt(i,10)||0}if(!(typeof j==="string"&&j.match(/\d+%/))){j=parseInt(j,10)||0}Tumblr.addClass(h,"visible");if(i){h.width=i;d.set("#tumblr_controls","width",i+"px")}if(j){h.height=j;d.set("#tumblr_controls","height",j+"px")}}var b=(function(){var l=[];var q=false;var i=200;var k=false;function j(){if(window.addEventListener){window.addEventListener("scroll",p)}else{if(window.attachEvent){window.attachEvent("onscroll",p)}}}function n(){if(window.removeEventListener){window.removeEventListener("scroll",p)}else{if(window.detachEvent){window.detachEvent("onscroll",p)}}}function p(t){if(q){clearTimeout(k);return}var r=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0;var u=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0;for(var s=0;s<l.length;s++){l[s].call(this,t,r,u)}if(i&&t){q=true;setTimeout(function(){q=false;p()},i)}}function m(r){l.push(r);j()}function o(s){for(var r=0;r<l.length;r++){if(l[r]===s){l.splice(r--,1)}}if(!l.length){n()}}return{on:m,off:o,start:j,stop:n}})();var a=(function(i){var l;var r=0;var j=0;var m=0;function k(){if(window.removeEventListener){window.removeEventListener("DOMContentLoaded",k,false)}else{if(window.detachEvent){window.detachEvent("onload",k)}}setTimeout(function(){n()},200)}function n(){l=document.getElementById("tumblr_controls");if(!l){return false}var s=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight;r=l.offsetTop;j=l.clientHeight;m=s-(r+j);if(r===0||m===0){o()}else{if(window.getComputedStyle(l).position!=="fixed"){Tumblr.addClass(l,"transition");b.on(q);q()}}}function q(u,t,s){if(typeof t==="undefined"){t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0}if(typeof s==="undefined"){s=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0}if(t<r){p()}else{if(t>=r+(j=l.clientHeight)){o()}}}function o(){Tumblr.addClass(l,"sticky")}function p(){Tumblr.removeClass(l,"sticky")}if(window.addEventListener){window.addEventListener("DOMContentLoaded",k,false)}else{if(window.attachEvent){window.attachEvent("onload",k)}}return{stick:o,unstick:p,check:q}})(d);return{post_message_event:function(j,i){c=document.getElementById("mobile_iframe");h=document.getElementById("tumblr_controls");e=j[j.length-1];if(c){if(j[0]==="show_mobile_banner"){if(j[1]==="1"){Tumblr.MobileBanner.showBanner();Tumblr.MobileBanner.mobile_origin=e}else{Tumblr.MobileBanner.showHeaderBanner()}}}else{if(h&&e){if(j[0]==="color_match"){f()}if(j[0]==="location_change"){Tumblr.addClass(h,"flash_fix");document.getElementById("tumblr_controls").onload=function(){Tumblr.removeClass(h,"flash_fix")}}if(j[0]==="request_keywords"){if(typeof tumblr_meta_keyboards!="undefined"){h.contentWindow.postMessage("keywords;"+tumblr_meta_keyboards,e)}}if(j[0]==="teaser_iframe"){if(j.length<2||!Tumblr.Teaser){return false}switch(j[1]){case"initialize":h.contentWindow.postMessage("teaser;enable",e);return Tumblr.Teaser.initialize({slide_page:(j.length>2&&j[2]==="slide")});case"load":return Tumblr.Teaser.load_once();case"open":return Tumblr.Teaser.open();case"close":return Tumblr.Teaser.close();case"toggle":return Tumblr.Teaser.toggle();default:break}}if(j[0]==="tagged_teaser_iframe"){if(j.length<2||!Tumblr.TaggedTeaser){return false}switch(j[1]){case"show":Tumblr.TaggedTeaser.initialize({once:true,open:true});return;case"open":return Tumblr.TaggedTeaser.open(j.length>2?j[2]:false);case"close":return Tumblr.TaggedTeaser.close();case"toggle":return Tumblr.TaggedTeaser.toggle();default:break}}if(j[0]==="resize_iframe"){g(j[1],j[2]);if(j.length>2){switch(j[3]){case"body_class":if(j.length>3&&j[4]){Tumblr.addClass(document.body,j[4])}break;default:break}}}}}}}})();
/*! scripts/tumblelog/feature_video.js */
Tumblr.VideoFeatureSupport=(function(){var b={setup_controls:{}};function f(){if(document.getElementById("tumblr_video_iframe_fullscreen")){return true}var j=document.createElement("style");j.id="tumblr_video_iframe_fullscreen";j.innerHTML=".tumblr_video_iframe.fullwindow { top: 0; bottom: 0; right: 0; left: 0; position: fixed; z-index: 8675309; height: 100%; width: 100%; }";document.body.appendChild(j)}function e(j){f();if(j){b.iframe.className="tumblr_video_iframe fullwindow"}else{b.iframe.className="tumblr_video_iframe"}}function i(j){var k=document.getElementById("tumblr_controls");if(!j){if(b.parent_post){b.parent_post.className=b.parent_post.className.replace(/\s+is_lightbox/g,"")}document.body.className=document.body.className.replace(/\s+is_lightbox/g,"");document.body.style.overflow="visible";b.iframe.style.position="static";b.iframe.style.height="100%";b.iframe.style.width="100%";b.iframe.style.zIndex=0;if(k){k.style.display="block"}return}a();if(b.parent_post){b.parent_post.className+=" is_lightbox"}document.body.className+=" is_lightbox";document.body.style.overflow="hidden";b.iframe.style.position="fixed";b.iframe.style.height="100%";b.iframe.style.width="100%";b.iframe.style.top=0;b.iframe.style.right=0;b.iframe.style.left=0;b.iframe.style.bottom=0;b.iframe.style.zIndex=90210;if(k){k.style.display="none"}}function g(j){if(!j){if(b.parent_post){b.parent_post.className=b.parent_post.className.replace(/\s+is_fullscreen/g,"")}document.body.className=document.body.className.replace(/\s+is_fullscreen/g,"");return}if(b.parent_post){b.parent_post.className+=" is_fullscreen"}document.body.className+=" is_fullscreen"}function a(){if(b.setup_controls[b.id]){return}var k=document.querySelector("#post_"+b.id+" .tumblr_lightbox_controls .close_button");if(k){k.addEventListener("click",function(l){b.iframe.contentWindow.postMessage("exit_lightbox",b.origin_url);return false})}var j=document.querySelector("#post_"+b.id+" .tumblr_lightbox_controls .like_button");if(j){j.addEventListener("click",function(m){var l=this;var n={id:l.getAttribute("data-post-id"),key:l.getAttribute("data-reblog-key")};if(Tumblr.hasClass(l,"already_like")){Tumblr.unlike(n,{success:function(){Tumblr.removeClass(l,"already_like")}})}else{Tumblr.like(n,{success:function(){Tumblr.addClass(l,"already_like")}})}return false})}b.setup_controls[b.id]=true}function h(){if(typeof(get_cookie)==="function"){var j=get_cookie("supress_lightbox"),k=parseInt(j.value,10)||0;if(j&&k>3){return"supress_lightbox"}if(!j){return"enable_lightbox"}}return false}function d(k){if(typeof(set_cookie)==="function"){var j=get_cookie("supress_lightbox"),l=parseInt(j.value,10)||0;if(k>0&&k<5){}if(k===-1){if(l>1){}else{}}c(h())}}function c(l){if(!l){return}var k=document.querySelectorAll(".tumblr_video_iframe.has_lightbox");for(var j=0;j<k.length;j++){k[j].contentWindow.postMessage(l,k[j].getAttribute("data-origin"))}}return{post_message_event:function(l,j){var k=l[2];b.iframe=document.getElementById("tumblr_video_iframe_"+k);if(!b.iframe){return}b.id=k;b.origin_url=b.iframe.getAttribute("data-origin");b.parent_post=document.getElementById("post_"+k);if(l[0]==="lightbox"){i((l[1]==="true")?true:false)}if(l[0]==="full_window"){e((l[1]==="true")?true:false)}if(l[0]==="full_screen"){g((l[1]==="true")?true:false)}}}})();
/*! scripts/tumblelog/feature_audio.js */
Tumblr.AudioFeatureSupport=(function(){return{post_message_event:function(d,a){var c,b;if(d[0]==="audioPlayerReady"){c=document.getElementsByClassName("tumblr_audio_player");for(b=0;b<c.length;b++){if(c[b].className.indexOf(" tumblr_audio_player_"+d[1])>=0){try{if(!c[b].style.webkitTransform){c[b].style.webkitTransform="translate3d(0px, 0px, 0px)"}}catch(f){}}}}else{if(d[0]==="audioPlayerPlaying"){c=document.getElementsByClassName("tumblr_audio_player");for(b=0;b<c.length;b++){if(c[b].className.indexOf(" tumblr_audio_player_"+d[1])<0){c[b].contentWindow.postMessage("pause","*")}}c=document.getElementsByClassName("tumblr_video_iframe");for(b=0;b<c.length;b++){c[b].contentWindow.postMessage("pause","*")}}}}}})();
/*! scripts/tumblelog/mobile_fullscreen_iframe.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.mobileFullscreenIframe={og_store:function(){this.og_body_position=document.body.style.position;this.og_body_overflow=document.body.style.overflow;this.og_html_bg=this.html_el.style.backgroundColor;this.win_height=window.innerHeight+"px"},set_frame_height:function(){this.win_height=window.innerHeight+"px";this.win_width=window.innerWidth+"px";this.frame.style.height=this.win_height;this.frame.style.minWidth=this.win_width},enable:function(a){this.frame=document.getElementById(a);if(!this.frame){return}this.html_el=document.getElementsByTagName("html")[0];this.og_store();this.orientation_height_change=this.set_frame_height.bind(this);window.addEventListener("orientationchange",this.orientation_height_change,false);window.addEventListener("resize",this.orientation_height_change,false);this.frame.className+=" is_lightbox";document.body.className+=" is_lightbox";document.body.style.position="relative";document.body.style.left="-99999px";document.body.style.overflow="hidden";this.html_el.style.backgroundColor="#000000";this.frame.style.cssText="position:fixed; overflow:hidden; width: 100%; top:0; left:0; right:0; bottom:0; z-index: 90210;";this.frame.style.height=this.win_height;if(document.getElementById("tumblr_controls")){document.getElementById("tumblr_controls").style.display="none"}},disable:function(a){this.frame=this.frame||document.getElementById(a);if(!this.frame){return}this.frame.className=this.frame.className.replace(/\s+is_lightbox/,"");document.body.className=document.body.className.replace(/\s+is_lightbox/,"");document.body.style.overflow=this.og_body_overflow;document.body.style.position=this.og_body_position;this.html_el.style.backgroundColor=this.og_html_bg;this.frame.style.cssText="";if(document.getElementById("tumblr_controls")){document.getElementById("tumblr_controls").style.display="block"}window.removeEventListener("orientationchange",this.orientation_height_change,false);window.removeEventListener("resize",this.orientation_height_change,false)}};
/*! scripts/tumblelog/post_message_listener.js */
("Tumblr" in window)||(window.Tumblr={});Tumblr.PostMessageListener=(function(){return{initialize:function(d){d=d||function(){};var c=window.addEventListener?"addEventListener":"attachEvent";var b=window[c];var a=c=="attachEvent"?"onmessage":"message";b(a,function(g){if(typeof g.data!=="string"){return}var f=g.data.split(";");d(f,g.origin)},false)}}})();Tumblr.PostMessageListener.initialize(function(b,a){Tumblr.VideoFeatureSupport.post_message_event(b,a);Tumblr.AudioFeatureSupport.post_message_event(b,a);Tumblr.IframeFeatureSupport.post_message_event(b,a);Tumblr.AnalyticsFeatureSupport.post_message_event(b,a);Tumblr.TumblelogFormResize.post_message_event(b,a);Tumblr.PhotosetResize.post_message_event(b,a);Tumblr.LikeButtonUpdate.post_message_event(b,a);Tumblr.LikeButton.logged_in_iframe_loaded(b,a);Tumblr.LikeButton.post_message_event(b,a);Tumblr.LikeButton.like_iframe_loaded(b,a)});
/*! scripts/tumblelog.js */
